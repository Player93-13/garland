<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Управление гирляндой</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-ajax-unobtrusive@3.2.6/dist/jquery.unobtrusive-ajax.min.js" crossorigin="anonymous"></script>
    <style>
        .color {
            height: 40px;
            width: 40px;
        }

        .color-box {
            margin-bottom: 1rem;
            height: 50px;
            width: 50px;
            padding: 4px 4px 4px 4px;
            background-color: #222;
            border: 1px solid #dee2e6;
            border-radius: .25rem;
        }

        .nav-link {
            display: block;
            padding: .5rem 1rem;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand navbar-dark bg-dark" style="padding: 0.5rem 1rem 0.5rem 1rem">
        <div class="container">
            <svg style="color: #fff; width: 32px; height: 32px;" aria-hidden="true" focusable="false" data-prefix="far" data-icon="tree" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-tree fa-w-14 fa-3x"><path fill="currentColor" d="M442.2 376.2l-55.5-64.4h5.3c9.3 0 17.8-5.4 21.8-13.9 3.9-8.5 2.6-18.5-3.5-25.6l-54.6-64.5H368c9.5 0 18.1-5.6 21.9-14.2 3.8-8.7 2.2-18.8-4.1-25.8L241.9 7.6c-9.1-10.1-26.6-10.1-35.7 0l-144 160.1c-6.3 7.1-7.9 17.2-4.1 25.8 3.9 8.7 12.5 14.2 21.9 14.2h12.2l-54.6 64.5c-6 7.1-7.4 17.1-3.5 25.6s12.4 13.9 21.8 13.9h5.3L5.8 376.2c-6.1 7.1-7.5 17.2-3.6 25.7s12.4 14 21.8 14h168v24.5l-30.3 48.4c-5.3 10.6 2.4 23.2 14.3 23.2h96c11.9 0 19.6-12.5 14.3-23.2L256 440.4v-24.5h168c9.4 0 17.9-5.5 21.8-14s2.5-18.6-3.6-25.7zm-365.8-8.3L166 263.8h-58.3l88-104.1h-61.9L224 59.5l90.1 100.2h-61.9l88 104.1H282l89.7 104.1z" class=""></path></svg>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav justify-content-center w-100">
                    <li class="nav-item">
                        <a class="nav-link active" href="/index.html"><svg style="width:18px; height:18px;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="holly-berry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-holly-berry fa-w-14 fa-3x"><path fill="currentColor" d="M144 192c26.5 0 48-21.5 48-48s-21.5-48-48-48-48 21.5-48 48 21.5 48 48 48zm112-48c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zm-32-48c26.5 0 48-21.5 48-48S250.5 0 224 0s-48 21.5-48 48 21.5 48 48 48zm-16.2 139.1c.1-12.4-13.1-20.1-23.8-13.7-34.3 20.3-71.4 32.7-108.7 36.2-9.7.9-15.6 11.3-11.6 20.2 6.2 13.9 11.1 28.6 14.7 43.8 3.6 15.2-5.3 30.6-20.2 35.1-14.9 4.5-30.1 7.6-45.3 9.1-9.7 1-15.7 11.3-11.7 20.2 15 32.8 22.9 69.5 23 107.7.1 14.4 15.2 23.1 27.6 16 33.2-19 68.9-30.5 104.8-33.9 9.7-.9 15.6-11.3 11.6-20.2-6.2-13.9-11.1-28.6-14.7-43.8-3.6-15.2 5.3-30.6 20.2-35.1 14.9-4.5 30.1-7.6 45.3-9.1 9.7-1 15.7-11.3 11.7-20.2-15.5-34.2-23.3-72.5-22.9-112.3zM435 365.6c-15.2-1.6-30.3-4.7-45.3-9.1-14.9-4.5-23.8-19.9-20.2-35.1 3.6-15.2 8.5-29.8 14.7-43.8 4-8.9-1.9-19.3-11.6-20.2-37.3-3.5-74.4-15.9-108.7-36.2-10.7-6.3-23.9 1.4-23.8 13.7 0 1.6-.2 3.2-.2 4.9.2 33.3 7 65.7 19.9 94 5.7 12.4 5.2 26.6-.6 38.9 4.9 1.2 9.9 2.2 14.8 3.7 14.9 4.5 23.8 19.9 20.2 35.1-3.6 15.2-8.5 29.8-14.7 43.8-4 8.9 1.9 19.3 11.6 20.2 35.9 3.4 71.6 14.9 104.8 33.9 12.5 7.1 27.6-1.6 27.6-16 .2-38.2 8-75 23-107.7 4.3-8.7-1.8-19.1-11.5-20.1z" class=""></path></svg> Эффект</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/palCreate.html"><svg style="width:18px; height:18px;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="palette" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-palette fa-w-16 fa-3x"><path fill="currentColor" d="M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z" class=""></path></svg> Палитра</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container mt-2">
        <div class="modal fade" id="deletePaletteModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Вы действительно хотите удалить палитру?</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <form action="delpal" method="post">
                        <div class="modal-body">
                            <span id="removePalName" class="lead"></span>
                            <input type="hidden" id="removePalId" name="id" />
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                            <input type="submit" value="Удалить"  id="removeBtn" class="btn btn-danger" />
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <h5>Выбор эффекта</h5>
        <form action="effset" method="post" data-ajax="true">
            <div class="form-group">
                <label for="b1"><svg style="width:16px; height:16px;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="holly-berry" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-holly-berry fa-w-14 fa-3x"><path fill="currentColor" d="M144 192c26.5 0 48-21.5 48-48s-21.5-48-48-48-48 21.5-48 48 21.5 48 48 48zm112-48c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zm-32-48c26.5 0 48-21.5 48-48S250.5 0 224 0s-48 21.5-48 48 21.5 48 48 48zm-16.2 139.1c.1-12.4-13.1-20.1-23.8-13.7-34.3 20.3-71.4 32.7-108.7 36.2-9.7.9-15.6 11.3-11.6 20.2 6.2 13.9 11.1 28.6 14.7 43.8 3.6 15.2-5.3 30.6-20.2 35.1-14.9 4.5-30.1 7.6-45.3 9.1-9.7 1-15.7 11.3-11.7 20.2 15 32.8 22.9 69.5 23 107.7.1 14.4 15.2 23.1 27.6 16 33.2-19 68.9-30.5 104.8-33.9 9.7-.9 15.6-11.3 11.6-20.2-6.2-13.9-11.1-28.6-14.7-43.8-3.6-15.2 5.3-30.6 20.2-35.1 14.9-4.5 30.1-7.6 45.3-9.1 9.7-1 15.7-11.3 11.7-20.2-15.5-34.2-23.3-72.5-22.9-112.3zM435 365.6c-15.2-1.6-30.3-4.7-45.3-9.1-14.9-4.5-23.8-19.9-20.2-35.1 3.6-15.2 8.5-29.8 14.7-43.8 4-8.9-1.9-19.3-11.6-20.2-37.3-3.5-74.4-15.9-108.7-36.2-10.7-6.3-23.9 1.4-23.8 13.7 0 1.6-.2 3.2-.2 4.9.2 33.3 7 65.7 19.9 94 5.7 12.4 5.2 26.6-.6 38.9 4.9 1.2 9.9 2.2 14.8 3.7 14.9 4.5 23.8 19.9 20.2 35.1-3.6 15.2-8.5 29.8-14.7 43.8-4 8.9 1.9 19.3 11.6 20.2 35.9 3.4 71.6 14.9 104.8 33.9 12.5 7.1 27.6-1.6 27.6-16 .2-38.2 8-75 23-107.7 4.3-8.7-1.8-19.1-11.5-20.1z" class=""></path></svg> Эффект</label>
                <select class="form-control" id="b1" name="b1">
                    <option value="0">Run</option>
                    <option value="1">PixieDust</option>
                    <option value="2">PixieDustGrad</option>
                    <option value="3">Sparkr</option>
                    <option value="4">SparkrGrad</option>
                    <option value="5">RandCyc</option>
                    <option value="6">RandCycGlow</option>
                    <option value="7">Stars</option>
                    <option value="8">Spread</option>
					<option value="99">Video</option>
                    <option value="101">Off</option>
                </select>
            </div>
            <svg style="width:16px; height:16px;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="palette" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-palette fa-w-16 fa-3x"><path fill="currentColor" d="M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z" class=""></path></svg> Палитра <a data-toggle="modal" id="linkDel" class="text-danger d-none" href="#deletePaletteModal" title="Удалить палитру"><svg style="width:16px; height:16px;" aria-hidden="true" focusable="false" data-prefix="far" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z" class=""></path></svg></a>
            <ul class="nav nav-pills mt-1" id="palTab">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#pal0">Rgb</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#pal1">Rainbow</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#pal2">RainbowStripe</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#pal3">Party</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#pal4">Heat</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#pal5">Fire</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#pal6">IceBlue</a>
                </li>
            </ul>
            <div id="colors" class="tab-content mt-2">
                <div class="tab-pane fade show active" id="pal0">
                    <div class="row">
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #ff0000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #00ff00;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #0000ff;"></div></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="pal1">
                    <div class="row">
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #FF0000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #AB5500;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #ABAB00;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #00FF00;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #00AB55;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #0000FF;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #5500AB;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #AB0055;"></div></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="pal2">
                    <div class="row">
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #FF0000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #000000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #AB5500;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #000000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #ABAB00;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #000000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #00FF00;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #000000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #00AB55;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #000000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #0000FF;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #000000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #5500AB;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #000000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #AB0055;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #000000;"></div></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="pal3">
                    <div class="row">
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #5500AB;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #84007C;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #B5004B;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #E5001B;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #E81700;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #B84700;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #AB7700;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #ABAB00;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #AB5500;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #DD2200;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #F2000E;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #C2003E;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #8F0071;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #5F00A1;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #2F00D0;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #0007F9;"></div></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="pal4">
                    <div class="row">
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #700070;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #FF0000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #FFFF00;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #FFFFCC;"></div></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="pal5">
                    <div class="row">
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #000000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #220000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #880000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #FF0000;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #FF6600;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #FFCC00;"></div></div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="pal6">
                    <div class="row">
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #ffffff;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #0000ff;"></div></div>
                        </div>
                        <div class="col-3">
                            <div class="color-box"><div class="color" style="background-color: #00ffff;"></div></div>
                        </div>
                    </div>
                </div>
            </div>
            <input type="hidden" name="b2" id="b2" value="0" />
            <input type="submit" class="btn btn-lg btn-primary btn-block" value="Отправить" />
        </form>
        <script type="text/javascript">
            $('body a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
                tabActivated(e.target);
            });

            function tabActivated(e) {
                var palId = $(e).attr('href').substring(4);
                $('#removePalName').text($(e).text());
                $('#removePalId').val(palId);
                $('#b2').val(palId);
                if ($(e).hasClass('custompal')) {
                    console.log("cp")
                    $('#linkDel').removeClass("d-none");
                } else {
                    $('#linkDel').addClass("d-none");
                }
            }

            function customPaletteDownload() {
                $.ajax({
                    url: '/pallete.json',
                    type: 'GET',
                    dataType: 'json',
                    success: function (data) {
                        $(data).each(function () {
                            var navtab = $('<li>', {
                                class: 'nav-item',
                                append: $('<a>', {
                                    class: 'nav-link custompal',
                                    onclick: 'tabActivated(this)',
                                    id: this.id,
                                    'data-toggle': 'tab',
                                    href: '#pal' + this.id,
                                    text: this.name
                                })
                            });

                            $(navtab).appendTo($('#palTab'));

                            var tabpane = $('<div>', {
                                class: "tab-pane fade",
                                id: 'pal' + this.id
                            });

                            var row = $('<div>', {
                                class: "row"
                            });

                            $(this.colors).each(function () {
                                var colorbox = $('<div>', {
                                    class: "col-3",
                                    append: $('<div>', {
                                        class: "color-box",
                                        append: $('<div>', {
                                            class: "color",
                                            css: { "background-color": "#" + this }
                                        })
                                    })
                                });

                                $(colorbox).appendTo($(row));
                            });

                            $(row).appendTo($(tabpane));
                            $(tabpane).appendTo($('#colors'));
                        });
                    }
                });
            }

            window.onload = function () {
                customPaletteDownload();
            }
        </script>
    </div>
</body>
</html>